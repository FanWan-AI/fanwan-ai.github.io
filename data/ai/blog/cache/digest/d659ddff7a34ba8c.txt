自然语言转SQL（NL2SQL）为非技术用户简化了数据库访问，但现有方法在任务分解和关键词提取方面存在不足，导致SQL生成错误。为了解决这些问题，研究者提出了DeKeyNLU数据集，包含1500个精心标注的问答对，旨在提升任务分解和关键词提取的准确性。基于此数据集，开发了DeKeySQL，一个采用检索增强生成（RAG）技术的NL2SQL管道，包含用户问题理解、实体检索和生成三个模块，显著提高了SQL生成的准确性。实验结果表明，使用DeKeyNLU进行微调后，DeKeySQL在多个基准数据集上表现优于主流基线。该研究为NL2SQL领域提供了新的数据集和方法，具有广泛的应用潜力，尤其是在需要高准确性和特定领域知识的场景中。